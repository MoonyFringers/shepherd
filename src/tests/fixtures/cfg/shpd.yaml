shpd_registry:
  ftp_server: ${shpd_registry}
  ftp_user: ${shpd_registry_ftp_usr}
  ftp_psw: ${shpd_registry_ftp_psw}
  ftp_shpd_path: ${shpd_registry_ftp_shpd_path}
  ftp_env_imgs_path: ${shpd_registry_ftp_imgs_path}
templates_path: ${templates_path}
envs_path: ${envs_path}
volumes_path: ${volumes_path}
host_inet_ip: ${host_inet_ip}
domain: ${domain}
dns_type: ${dns_type}
ca:
  country: ${ca_country}
  state: ${ca_state}
  locality: ${ca_locality}
  organization: ${ca_org}
  organizational_unit: ${ca_org_unit}
  common_name: ${ca_cn}
  email: ${ca_email}
  passphrase: ${ca_passphrase}
cert:
  country: ${cert_country}
  state: ${cert_state}
  locality: ${cert_locality}
  organization: ${cert_org}
  organizational_unit: ${cert_org_unit}
  common_name: ${cert_cn}
  email: ${cert_email}
  subject_alternative_names: []
staging_area:
  volumes_path: ${staging_area_volumes_path}
  images_path: ${staging_area_images_path}
env_templates:
  - tag: default
    factory: docker-compose
    service_templates:
      - template: default
        tag: service-default
    probes: []
    networks:
      - tag: shpdnet
        name: envnet
        external: true
        driver: null
        attachable: null
        enable_ipv6: null
        driver_opts: null
        ipam: null
    volumes:
      - tag: app_data
        external: false
        name: null
        driver: local
        driver_opts:
          type: none
          o: bind
          device: ${volumes_path}/srv/data
        labels:
          env: production
service_templates:
  - tag: oracle
    factory: docker
    inits: []
    start: null
    containers:
      - image: ${ora_image}
        tag: container-ora
        hostname: ${ora_hostname}
        container_name: ${ora_container_name}
        workdir: null
        environment: []
        volumes:
          - app_data:/mnt/test
        ports:
          - 1521:${ora_listener_port}
        networks: []
        extra_hosts: []
        subject_alternative_name: null
        build: null
    labels: []
    ingress: false
    empty_env: ${ora_empty_env}
    properties:
      pump_dir_name: ${ora_pump_dir}
      root_db_name: ${ora_root_db_name}
      plug_db_name: ${ora_plug_db_name}
      sys_user: ${db_sys_usr}
      sys_psw: ${db_sys_psw}
      user: ${db_usr}
      psw: ${db_psw}
  - tag: postgres
    factory: docker
    inits: []
    start: null
    containers:
      - image: ${pg_image}
        tag: container-pg
        hostname: ${pg_hostname}
        container_name: ${pg_container_name}
        workdir: null
        environment: []
        volumes: []
        ports:
          - 5432:${pg_listener_port}
        networks: []
        extra_hosts: []
        subject_alternative_name: null
        build:
          context_path: "#{cfg.envs_path}/#{env.tag}/build"
          dockerfile_path: "#{cnt.build.context_path}/Dockerfile"
    labels: []
    ingress: false
    empty_env: ${pg_empty_env}
    properties:
      sys_user: ${db_sys_usr}
      sys_psw: ${db_sys_psw}
      user: ${db_usr}
      psw: ${db_psw}
envs:
  - template: default
    factory: docker-compose
    tag: sample-1
    services:
      - template: postgres
        factory: docker
        inits: []
        start: null
        containers:
          - image: ghcr.io/MoonyFringers/shepherd/postgres:17-3.5
            tag: container-pg
            hostname: null
            container_name: null
            workdir: null
            volumes: []
            environment: null
            ports: []
            networks: []
            extra_hosts: []
            subject_alternative_name: null
            build:
              context_path: "#{cfg.envs_path}/#{env.tag}/build"
              dockerfile_path: "#{cnt.build.context_path}/Dockerfile"
        tag: pg-1
        service_class: null
        labels: []
        ingress: null
        empty_env: null
        properties:
          sys_user: syspg1
          sys_psw: syspg1
          user: pg1
          psw: pg1
        upstreams:
          - type: postgres
            tag: upstream-1
            enabled: true
            properties:
              user: pg1up
              psw: pg1up
              host: localhost
              port: "5432"
              database: d_pg1
              unix_user: postgres
              dump_dir: /dumps
          - type: postgres
            tag: upstream-2
            enabled: false
            properties:
              user: pg2up
              psw: pg2up
              host: moon
              port: "5432"
              database: d_pg2
              unix_user: postgres
              dump_dir: /dumps/2
        status:
          active: true
          archived: false
          triggered_config: null
      - template: traefik
        factory: docker
        tag: traefik-1
        service_class: null
        inits: []
        start: null
        containers:
          - image: ""
            tag: 1
            hostname: null
            container_name: null
            workdir: null
            volumes: []
            environment: null
            ports: []
            networks: []
            extra_hosts: []
            subject_alternative_name: null
            build: null
        labels: []
        ingress: true
        empty_env: null
        properties: {}
        upstreams: []
        status:
          active: true
          archived: false
          triggered_config: null
      - template: custom-1
        factory: docker
        tag: primary
        service_class: null
        inits: []
        start: null
        containers:
          - image: ""
            tag: 1
            hostname: null
            container_name: null
            workdir: null
            volumes: []
            environment: null
            ports: []
            networks: []
            extra_hosts: []
            subject_alternative_name: null
            build: null
        labels: []
        ingress: true
        empty_env: null
        properties:
          instance.name: primary
          instance.id: 1
        upstreams: []
        status:
          active: true
          archived: false
          triggered_config: null
      - template: nodejs
        factory: docker
        tag: poke
        service_class: null
        inits: []
        start: null
        containers:
          - image: ""
            build: null
            tag: 1
            hostname: null
            container_name: null
            workdir: null
            volumes: []
            environment:
              - USER=user
              - PSW=psw
            ports:
              - 3000:3000
            networks: []
            extra_hosts: []
            subject_alternative_name: null
        labels: []
        ingress: null
        empty_env: null
        properties: {}
        upstreams: []
        status:
          active: true
          archived: false
          triggered_config: null
    probes: []
    networks:
      - tag: shpdnet
        name: envnet
        external: true
        driver: null
        attachable: null
        enable_ipv6: null
        driver_opts: null
        ipam: null
    volumes:
      - tag: app_data
        external: false
        name: null
        driver: local
        driver_opts:
          type: none
          o: bind
          device: /srv/data
        labels:
          env: production
    status:
      active: true
      archived: false
      triggered_config: null
